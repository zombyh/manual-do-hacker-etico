## üìò Resumo: An√°lise Est√°tica e Din√¢mica B√°sica de Malware

## üìå Vis√£o Geral
- **Disciplina**: An√°lise de Malwares  
- **Aula**: 2 ‚Äì An√°lise Est√°tica e Din√¢mica B√°sica  
- **Objetivos**:
  - Identificar t√©cnicas de **an√°lise est√°tica**.
  - Explicar o uso de **m√°quinas virtuais**.
  - Identificar t√©cnicas de **an√°lise din√¢mica**.

---

## üîç An√°lise Est√°tica B√°sica

### O que √©?
- An√°lise do c√≥digo e estrutura do programa **sem execut√°-lo**.
- Primeira etapa da an√°lise de malware.

### T√©cnicas Principais

#### 1. Verifica√ß√£o com Antiv√≠rus
- Uso de m√∫ltiplos antiv√≠rus para detec√ß√£o via assinaturas e heur√≠stica.
- **Ferramenta**: VirusTotal (cuidado com dados sens√≠veis!).

#### 2. Hashing
- Gera√ß√£o de **hash √∫nico** para identifica√ß√£o do arquivo.
- **Algoritmo comum**: MD5.
- **Ferramenta**: `certutil` no Windows.
  ```cmd
  certutil -hashfile <arquivo> MD5
  ```

#### 3. Busca por Strings
- Identifica√ß√£o de sequ√™ncias de caracteres no bin√°rio.
- **Ferramenta**: `strings.exe` (busca em ASCII e Unicode).
  ```cmd
  strings.exe -n 10 <arquivo>
  ```

#### 4. Detec√ß√£o de Empacotamento
- Arquivos compactados ou ofuscados dificultam a an√°lise.
- **Ferramenta**: PEiD ‚Äì identifica empacotadores.

#### 5. Indicadores de Comprometimento (IoC)
- Evid√™ncias de viola√ß√£o (ex: hashes, IPs, URLs, strings suspeitas).
- Usados para criar assinaturas e alertas futuros.

#### 6. Outras Ferramentas
- **PEview**: Visualiza estrutura de PE (EXE, DLL).
- **Dependency Walker**: Mostra depend√™ncias e fun√ß√µes importadas.

---

## üñ•Ô∏è An√°lise em M√°quinas Virtuais

### Por que usar?
- Isolamento do malware.
- Facilidade de restaura√ß√£o via **snapshots**.

### Configura√ß√£o da VM
- **Virtualizadores comuns**: VMware, VirtualBox.
- **Modos de Rede**:
  - **Bridge**: VM na mesma rede f√≠sica.
  - **NAT**: VM usa IP da m√°quina f√≠sica.
  - **Host-Only**: Comunica√ß√£o apenas com a m√°quina f√≠sica.

> ‚úÖ **Recomendado**: Modo **Host-Only** para an√°lise.

### Desvantagens
- Malware pode detectar ambiente virtualizado.
- Exige hardware robusto.
- Sem internet (em Host-Only) pode limitar an√°lise.

---

## ‚öôÔ∏è An√°lise Din√¢mica B√°sica

### O que √©?
- An√°lise do comportamento do malware **durante a execu√ß√£o**.

### Sandbox
- Ambiente seguro para execu√ß√£o controlada.
- **Exemplo**: Hybrid Analysis (n√£o enviar arquivos sens√≠veis).

### Execu√ß√£o de DLLs
- Usar `rundll32.exe`:
  ```cmd
  rundll32.exe <DLL>, <Export> <Argumentos>
  ```

### Ferramentas de Monitoramento

| Ferramenta | Fun√ß√£o |
|------------|--------|
| **Process Monitor** | Monitora chamadas de sistema (registro, arquivos, rede, processos) |
| **Process Explorer** | Mostra processos e DLLs carregadas na mem√≥ria |
| **Regshot** | Compara estado do registro antes e depois da execu√ß√£o |
| **Wireshark** | Captura e analisa tr√°fego de rede |

### Falsifica√ß√£o de Rede
- Simula√ß√£o de servi√ßos de internet para enganar o malware.
- **Ferramenta**: INetSim (Linux) ‚Äì simula HTTP, HTTPS, DNS, FTP, etc.

### REMnux
- Distribui√ß√£o Linux especializada em an√°lise de malware.
- Inclui ferramentas como INetSim.

---

## ‚úÖ Atividade de Revis√£o

1. **IoC ‚Äì Exce√ß√£o**  
   - Item que **n√£o** √© IoC: **c) Tamanho do arquivo**  
   - Resposta correta: **c**

2. **Vantagens de VMs ‚Äì Exce√ß√£o**  
   - Item que **n√£o** √© vantagem: **b) Cria√ß√£o de estruturas de rede**  
   - Resposta correta: **b**

3. **Afirma√ß√µes Verdadeiras**  
   - I ‚úÖ ‚Äì Registro: verifica altera√ß√µes antes/depois  
   - II ‚ùå ‚Äì Wireshark: an√°lise de rede, n√£o empacotamento  
   - III ‚úÖ ‚Äì Process Monitor: analisa chamadas de sistema  
   - Resposta correta: **c) I e III**

---

## üß† Pr√≥ximos Passos
- Introdu√ß√£o ao **Assembly x86**.
- Ferramentas para an√°lise de c√≥digo assembly.
- Rela√ß√£o entre C e Assembly.

---

## üõ†Ô∏è Explore Mais
- Reposit√≥rio de laborat√≥rios:  
  [PracticalMalwareAnalysis-Labs](https://github.com/mikesiko/PracticalMalwareAnalysis-Labs)
- Pratique com os bin√°rios das pastas 1 e 3.

---
