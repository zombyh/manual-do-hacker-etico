## ğŸ“˜ Resumo: AnÃ¡lise de Malware em Ambiente Mobile

### ğŸ“Œ VisÃ£o Geral
- Esta Ã© a **Aula 10** do curso, com foco em anÃ¡lise de malware em dispositivos mÃ³veis (Android e iOS).
- Aborda a arquitetura ARM, peculiaridades dos sistemas Android e iOS, e tÃ©cnicas de anÃ¡lise estÃ¡tica e dinÃ¢mica.

---

## ğŸ§  Arquitetura ARM

### ğŸ”¹ DiferenÃ§as entre CISC e RISC
- **CISC (Intel)**: InstruÃ§Ãµes complexas, mÃºltiplas operaÃ§Ãµes por instruÃ§Ã£o (ex: `mul`).
- **RISC (ARM)**: InstruÃ§Ãµes simples, uma operaÃ§Ã£o por instruÃ§Ã£o, mais eficiente em energia e custo.

### ğŸ”¹ CaracterÃ­sticas do ARM
- Arquitetura do tipo **load-store**.
- Dois tipos de instruÃ§Ãµes:
  1. **Acesso Ã  memÃ³ria**
  2. **OperaÃ§Ãµes ALU** (aritmÃ©ticas e lÃ³gicas)
- 30 registradores de 32 bits.
- Dois modos de instruÃ§Ã£o:
  - **ARM**: instruÃ§Ãµes de 32 bits
  - **Thumb**: instruÃ§Ãµes de 16 e 32 bits (mais condensadas)

---

## ğŸ¤– Android

### ğŸ”¹ Estrutura do Sistema
- Baseado em Linux.
- **Hierarquia de arquivos**:
  - **Interno**: `/data/data/` (privado por app)
  - **Externo**: `/storage/emulated/0`, `/sdcard` (acessÃ­vel a todos)

### ğŸ”¹ SeguranÃ§a
- **SELinux**: Controle de Acesso ObrigatÃ³rio (MAC).
- Cada app roda como um usuÃ¡rio Linux Ãºnico.
- PermissÃµes definidas no `manifest.xml`.

### ğŸ”¹ Root
- Permite acesso total ao sistema.
- Riscos: remoÃ§Ã£o de proteÃ§Ãµes de seguranÃ§a.
- Malwares podem usar root para:
  - Acesso a dados crÃ­ticos
  - PersistÃªncia
  - OcultaÃ§Ã£o

---

## ğŸ” AnÃ¡lise de Malware no Android

### ğŸ”¸ AnÃ¡lise EstÃ¡tica
- **Ferramentas**:
  - `Baksmali`, `Apktool`, `oat2dex`, `vdexExtractor`
  - Descompiladores: `JADX`, `AndroChef`, `JEB`, `dex2jar`

### ğŸ”¸ AnÃ¡lise DinÃ¢mica
- **Android Debug Bridge (ADB)**: cliente, daemon e servidor.
- **Emuladores**:
  - Android Emulator (oficial)
  - Genymotion, VMWare, QEMU

### ğŸ”¸ Fluxo de AnÃ¡lise
1. AquisiÃ§Ã£o da amostra (APK)
2. DescompilaÃ§Ã£o/desmontagem
3. AnÃ¡lise do `manifest.xml`
4. AnÃ¡lise do cÃ³digo
5. DesofuscaÃ§Ã£o/descriptografia
6. AnÃ¡lise comportamental
7. DepuraÃ§Ã£o (com snapshots)

---

## ğŸ iOS (Apple)

### ğŸ”¹ Fundamentos
- Baseado em **Darwin** (kernel XNU).
- Linguagens: Objective-C e Swift.
- API: Cocoa (macOS) e Cocoa Touch (iOS).

### ğŸ”¹ SeguranÃ§a
- **Cadeia de inicializaÃ§Ã£o segura**:
  - Boot ROM â†’ iBoot â†’ Kernel
  - Modos: DFU e Recovery
- **Kernel Integrity Protection (KIP)**
- **Secure Enclave**: coprocessador seguro para chaves criptogrÃ¡ficas
- **ProteÃ§Ã£o de Dados**: criptografia por arquivo com AES-256
- **Keychain**: armazenamento seguro de dados sensÃ­veis

### ğŸ”¹ Certificados e Sandbox
- Todo cÃ³digo deve ser assinado pela Apple.
- Apps rodam em **sandbox** (contÃªineres).
- NÃ£o hÃ¡ escalonamento de privilÃ©gios nativo.

---

## ğŸ” AnÃ¡lise de Malware no iOS

### ğŸ”¸ AnÃ¡lise EstÃ¡tica
- **Formatos**: DMG (macOS), IPA (iOS)
- **Ferramentas**:
  - IDA, Hopper, radare2, RetDec, Ghidra
  - ExtraÃ§Ã£o: 7-zip, iTunes, iMazing

### ğŸ”¸ AnÃ¡lise DinÃ¢mica
- Geralmente requer **jailbreak** e **Cydia**.
- **Ferramentas**:
  - Theos, Cycript, Frida
  - Monitoramento: fsmon, filemon, rvictl (RVI)

### ğŸ”¸ Jailbreak
- Permite:
  - Remover restriÃ§Ãµes
  - Instalar apps nÃ£o oficiais
  - Acessar sistema de arquivos
- Diferente de root: inclui desbloqueio do bootloader e instalaÃ§Ã£o de apps nÃ£o assinados.

---

## ğŸ“š ReferÃªncias Sugeridas
- Anley (2007)  
- Dunham et al. (2014)  
- Kleymenov & Thabet (2019)  
- Ligh et al. (2014)  
- Tanenbaum (2010)

---
