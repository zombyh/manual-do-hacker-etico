## ğŸ“˜ Resumo: AnÃ¡lise EstÃ¡tica AvanÃ§ada e CodificaÃ§Ã£o â€“ Parte I

### ğŸ“Œ Objetivos da Aula
- Identificar caracterÃ­sticas da arquitetura Intel x86.
- Compreender as diferenÃ§as entre bases numÃ©ricas (binÃ¡ria, decimal, hexadecimal).
- Reconhecer e interpretar comandos em linguagem Assembly.

---

## ğŸ§  Arquitetura de Computadores

### ğŸ§© NÃ­veis de AbstraÃ§Ã£o
- **Hardware**: Circuitos fÃ­sicos.
- **MicrocÃ³digo (Firmware)**: Interface entre hardware e cÃ³digo de mÃ¡quina.
- **CÃ³digo de MÃ¡quina**: Opcodes em hexadecimal.
- **Linguagem de Baixo NÃ­vel (Assembly)**: VersÃ£o legÃ­vel do cÃ³digo de mÃ¡quina.
- **Linguagem de Alto NÃ­vel**: Ex.: C, C++.
- **Linguagens Interpretadas**: Ex.: Java, .NET, Perl (bytecode + interpretador).

### ğŸ” Arquitetura Von Neumann
- **CPU**: Executa instruÃ§Ãµes.
- **MemÃ³ria Principal (RAM)**: Armazena cÃ³digo e dados.
- **Sistema de E/S**: Interface com dispositivos externos.

#### Componentes da CPU:
- **Unidade de Controle**: Busca instruÃ§Ãµes da RAM via **EIP**.
- **Registradores**: Armazenamento rÃ¡pido de dados.
- **ULA**: Executa operaÃ§Ãµes lÃ³gicas e aritmÃ©ticas.

---

## ğŸ§© MemÃ³ria de um Programa

| SeÃ§Ã£o   | FunÃ§Ã£o |
|---------|--------|
| **Dados** | VariÃ¡veis estÃ¡ticas/globais |
| **CÃ³digo** | InstruÃ§Ãµes do programa |
| **Heap** | AlocaÃ§Ã£o dinÃ¢mica |
| **Pilha** | VariÃ¡veis locais, parÃ¢metros, controle de fluxo |

---

## ğŸ’» Linguagem Assembly

### ğŸ§© Estrutura de uma InstruÃ§Ã£o
```
Mnemonico Operando1, Operando2
```
- **Mnemonico**: Identifica a operaÃ§Ã£o (ex.: `mov`, `add`).
- **Operando**: Dados usados pela instruÃ§Ã£o.

### ğŸ”¢ Tipos de Operandos
1. **Imediato**: Valor fixo (ex.: `0x42`).
2. **Registrador**: Ex.: `eax`, `ebx`.
3. **EndereÃ§o de MemÃ³ria**: Ex.: `[eax]`, `[0x11223344]`.

---

## ğŸ” Ordem dos Bytes (Endianness)
- **Little-endian**: Byte menos significativo primeiro (usado em x86).
- **Big-endian**: Byte mais significativo primeiro (usado em rede).

Exemplo: IP `127.0.0.1` â†’  
- Big-endian: `0x7F000001`  
- Little-endian: `0x0100007F`

---

## ğŸ”¢ Bases NumÃ©ricas

| BinÃ¡rio | Decimal | Hexadecimal |
|---------|---------|-------------|
| 0       | 0       | 0           |
| 1       | 1       | 1           |
| 10      | 2       | 2           |
| ...     | ...     | ...         |
| 1111    | 15      | F           |

- 1 byte = 8 bits = 2 hexadecimais.

---

## ğŸ§® Registradores x86

### Categorias:
- **Gerais**: EAX, EBX, ECX, EDX, EBP, ESP, ESI, EDI.
- **Segmento**: CS, SS, DS, ES, FS, GS.
- **Status**: EFLAGS.
- **Ponteiro de InstruÃ§Ã£o**: EIP.

### Exemplo: EAX
- EAX (32 bits) â†’ AX (16 bits) â†’ AH (8 bits superiores) + AL (8 bits inferiores).

---

## ğŸš© Flags (EFLAGS)

| Flag | Significado |
|------|-------------|
| **ZF** | Resultado = 0 |
| **CF** | Overflow/Underflow |
| **SF** | Resultado negativo |
| **TF** | Modo de depuraÃ§Ã£o (uma instruÃ§Ã£o por vez) |

---

## ğŸ§¾ InstruÃ§Ãµes Assembly Comuns

### â¡ï¸ `mov destino, origem`
- Copia o valor da origem para o destino.
- Ex.: `mov ecx, eax` â†’ copia EAX para ECX.

### ğŸ§­ `lea destino, [origem]`
- Calcula e armazena o **endereÃ§o efetivo**.
- Ex.: `lea eax, [ebx+8]` â†’ EAX = EBX + 8.

### â• `add destino, origem` / `sub destino, origem`
- Soma/subtrai origem ao destino e armazena no destino.

### âœ–ï¸ `mul valor` / `div valor`
- MultiplicaÃ§Ã£o/divisÃ£o usam EDX:EAX.
- Resultado de 64 bits: EDX (parte alta) + EAX (parte baixa).

### ğŸ” Operadores LÃ³gicos
- `and`, `or`, `xor`: operaÃ§Ã£o bit a bit.

### ğŸ”€ Deslocamento de Bits
- `shl destino, bits`: desloca para a esquerda.
- `shr destino, bits`: desloca para a direita.
- Ex.: `1000` â†’ `shl 1` â†’ `10000`; `shr 1` â†’ `0100`.

---

## ğŸ§ª Exemplos PrÃ¡ticos

### Exemplo 1:
```asm
mov eax, 0x01020304
add eax, 0x02030405
lea ebx, [eax+8]
```
- EAX = 0x03050709
- EBX = 0x03050711

### Exemplo 2:
- Valor binÃ¡rio: `101001 + 1110100` = `10011101` â†’ hexa: `0x9D`
- Hexadecimal: `0xA0F21 â€“ 0x9F134` = `0x1FED` â†’ decimal: 7661
- Decimal: `12 + 10` = `22` â†’ binÃ¡rio: `10110`

---

## ğŸ“š ReferÃªncias
- SIKORSKI, M. **Practical Malware Analysis**
- TANENBAUM, A.S. **OrganizaÃ§Ã£o Estruturada de Computadores**
- NLEY, C. **The Shellcoderâ€™s Handbook**

---

## ğŸ¯ PrÃ³ximos TÃ³picos
- Ferramentas para anÃ¡lise de cÃ³digo assembly.
- RelaÃ§Ã£o entre instruÃ§Ãµes em C e Assembly.

---
